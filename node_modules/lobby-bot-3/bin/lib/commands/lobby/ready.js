"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.handle = void 0;
const discord_slash_1 = require("discord-slash");
const lobbies_1 = require("../../lobbies");
exports.default = new discord_slash_1.SlashSubcommand("ready", "Mark yourself as ready", handle, cmd => cmd);
async function handle(interaction) {
    const channel = interaction.channel;
    const lobby = await lobbies_1.Lobby.get(channel);
    const wasReady = lobby.isReady();
    lobby.readyPlayers(interaction.member);
    const print = await lobby.print(channel, wasReady !== lobby.isReady() ? "The lobby is now ready!" : null, wasReady !== lobby.isReady());
    await interaction.reply(print);
}
exports.handle = handle;
//# sourceMappingURL=ready.js.map