"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const discord_js_1 = require("discord.js");
const discord_slash_1 = require("discord-slash");
const commands_1 = require("./lib/commands");
const language_1 = require("./lib/language");
(async () => {
    const client = new discord_js_1.Client({ intents: [
            discord_js_1.Intents.FLAGS.GUILDS,
            discord_js_1.Intents.FLAGS.GUILD_MESSAGES,
        ] });
    client.on('ready', () => console.log(`${client.user.username} Online!`));
    await client.login(process.env.DISCORD_TOKEN);
    await (0, discord_slash_1.install)(client, (0, commands_1.commands)(), onError);
})();
async function onError(interaction, e) {
    if (e instanceof language_1.UsageException) {
        const message = await e.printMessage();
        await interaction.reply(message);
        return true;
    }
    await interaction.reply({ embeds: [{
                title: "Command Failed",
                color: "RED",
                description: "An unexpected error occurred",
                footer: { text: "Use !help to learn more" },
            }] });
    return false;
}
//# sourceMappingURL=index.js.map